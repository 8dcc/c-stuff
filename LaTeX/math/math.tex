\documentclass{amsart}

\title{Math notes}
\author{8dcc}

% ------------------------------------------------------------------------------
% Packages
% ------------------------------------------------------------------------------

% Slightly smaller margins
\usepackage[
a4paper,
left=4cm,
right=4cm,
top=3cm,
bottom=3cm,
footskip=1cm
]{geometry}

% Link sections and subsections
\usepackage[hidelinks]{hyperref}
\hypersetup{linktoc=all}

% Various math utilities
\usepackage{amsmath}

% Graphs
\usepackage{tikz}
% Use Calc library for coordinate calculations
\usetikzlibrary{calc}
% Use Decorations for drawing braces
\usetikzlibrary{decorations.pathreplacing}
% Change default arrow style
\tikzset{>=stealth}

% Different monospace font for code blocks (listings)
\usepackage{inconsolata}

% Remove author and extra info from the headers
\pagestyle{plain}

% New environment adding spacing for tikz pictures
\newenvironment{tikzpicturecenter}
{\vspace{1em}\begin{center}\begin{tikzpicture}}
    {\end{tikzpicture}\end{center}}

% Darker green color for graphs
\definecolor{my-green}{rgb}{0.0, 0.7, 0.0}

% ------------------------------------------------------------------------------
% Document start
% ------------------------------------------------------------------------------

\begin{document}
\maketitle
\tableofcontents

% ------------------------------------------------------------------------------
\newpage
\section{Geometry}
% ------------------------------------------------------------------------------

% ------------------------------------------------------------------------------
\subsection{Magnitude of a vector}
% ------------------------------------------------------------------------------

The magnitude of a vector is the length of the vector, and it's denoted as
$\|v\|$. The formula for calculating the magnitude of a two-dimensional vector
is the following.

\begin{displaymath}
  \|v\| = \sqrt{v_x^2 + v_y^2}
\end{displaymath}

% NOTE: Environment defined above
\begin{tikzpicturecenter}
  \pgfmathsetmacro{\Vx}{3}
  \pgfmathsetmacro{\Vy}{2}

  % Coordinates of points
  \coordinate (o) at (0,0);
  \coordinate (v) at (\Vx,\Vy);

  % Grid
  \draw[thin, gray, dotted] (-1,-1) grid (4,3);

  % Axis
  \draw[->, gray] (o) -- ($(\Vx+0.5,0)$) node[below]{$x$};
  \draw[->, gray] (o) -- ($(0,\Vy+0.5)$) node[left]{$y$};

  % Lines
  \draw[thick] (o) -- (v) node[pos=0.6, above left]{$\|v\|$};
  \draw[thick, red] (o) -- (\Vx,0) node[pos=0.5, below]{$v_x$};
  \draw[thick, blue] (v) -- (\Vx,0) node[pos=0.5, right]{$v_y$};

  % Points in centers
  \filldraw[gray] (o) circle (1pt) node[above left]{$(0,0)$};
  \filldraw (v) circle (1pt) node[above right]{$v$};
\end{tikzpicturecenter}

% ------------------------------------------------------------------------------
\subsection{Distance between two points}
% ------------------------------------------------------------------------------

The distance between two points is the hypotenuse of a right triangle whose two
cathetus are the difference between the $x$ and $y$ coordinates of the two
points.

\begin{tikzpicturecenter}
  \pgfmathsetmacro{\Ax}{1}
  \pgfmathsetmacro{\Ay}{3}
  \pgfmathsetmacro{\Bx}{4}
  \pgfmathsetmacro{\By}{1}

  % Coordinates of points
  \coordinate (a) at (\Ax,\Ay);
  \coordinate (b) at (\Bx,\By);

  % Grid
  \draw[thin, gray, dotted] (0,0) grid (5,4);

  % Lines
  \draw[thick] (a) -- (b) node[pos=0.5, above right]{$d$};
  \draw[thick, blue] (\Ax,\By) -- (a) node[pos=0.5, left]{$\Delta_y$};
  \draw[thick, red] (\Ax,\By) -- (b) node[pos=0.5, below]{$\Delta_x$};

  % Points in centers
  \filldraw (a) circle (1pt) node[above right]{A};
  \filldraw (b) circle (1pt) node[above right]{B};
\end{tikzpicturecenter}

\begin{displaymath}
  d = \sqrt{(B_x - A_x)^2 + (B_y - A_y)^2}
\end{displaymath}

% ------------------------------------------------------------------------------
\subsection{Unit vector}
% ------------------------------------------------------------------------------

A unit vector is a vector of length 1, and it's usually denoted as $u$ or
$\hat{u}$. The normalized or unitary vector $\hat{u}$ of a vector $v$ is a
vector of length 1 with the direction of $v$. The following formula can be used
for normalizing a vector.

\begin{displaymath}
  \hat{u} = \frac{v}{\|v\|}
\end{displaymath}

% ------------------------------------------------------------------------------
\subsection{Sine and cosine}
% ------------------------------------------------------------------------------

Given the following right triangle, containing the acute angle $\alpha$:

\begin{tikzpicturecenter}
  % Distance from A to B
  \pgfmathsetmacro{\HypotLength}{2};

  % Radius and angle of the arc
  \pgfmathsetmacro{\ArcRadius}{0.75};
  \pgfmathsetmacro{\Angle}{35};

  % Position of point B
  \pgfmathsetmacro{\BX}{\HypotLength*cos(\Angle)};
  \pgfmathsetmacro{\BY}{\HypotLength*sin(\Angle)};

  % Position for the theta label, in the middle of the angle
  \pgfmathsetmacro{\ArcLabelX}{\ArcRadius*cos(\Angle/2)};
  \pgfmathsetmacro{\ArcLabelY}{\ArcRadius*sin(\Angle/2)};

  % Coordinates
  \coordinate (a) at (0,0);
  \coordinate (b) at (\BX,\BY);
  \coordinate (c) at (\BX,0);

  % Draw the arc
  \filldraw[violet, fill opacity=0.3] (a) -- (\ArcRadius,0) arc (0:\Angle:\ArcRadius) -- cycle;
  \node at (\ArcLabelX, \ArcLabelY) [yshift=0.05cm, xshift=0.2cm] {$\alpha$};

  \draw[-, thick, red] (a) -- (b) node[above left, pos=0.6]{hypotenuse};
  \draw[-, thick, blue] (a) -- (c) node[below, pos=0.5]{adjacent};
  \draw[-, thick, my-green] (b) -- (c) node[right, pos=0.5]{opposite};

  % Draw a dot in each point
  \filldraw (a) circle (1pt) node[left]{A};
  \filldraw (b) circle (1pt) node[right]{B};
  \filldraw (c) circle (1pt) node[right]{C};
\end{tikzpicturecenter}

The sine and cosine of the angle can be calculated with the following formulas:

\begin{align*}
  \sin \left( \alpha \right) &= \frac{\text{opposite}}{\text{hypotenuse}} \\
  \cos \left( \alpha \right) &= \frac{\text{adjacent}}{\text{hypotenuse}}
\end{align*}

Alternatively, the following definition uses a \textbf{unit circle} to visualize
the sine and cosine more clearly. A unit circle is a circle of radius one
centered at the origin (0, 0) in the cartesian coordinate system.

By tracing a line from the origin to a point in this circle, an angle $\theta$
is formed with the positive \textsl{x} axis. The \textsl{x} and \textsl{y}
coordinates of this point are equal to $\cos \theta$ and $\sin \theta$,
respectively.

\begin{tikzpicturecenter}
  % Radius for the dotted circumference and the angle
  \pgfmathsetmacro{\Radius}{2};
  \pgfmathsetmacro{\ArcRadius}{1};

  % Degrees of angle theta
  \pgfmathsetmacro{\Angle}{40};

  % Point where the black line ends
  \pgfmathsetmacro{\LineEndX}{\Radius*cos(\Angle)};
  \pgfmathsetmacro{\LineEndY}{\Radius*sin(\Angle)};

  % Position for the theta label, in the middle of the angle
  \pgfmathsetmacro{\ArcLabelX}{\ArcRadius*cos(\Angle/2)};
  \pgfmathsetmacro{\ArcLabelY}{\ArcRadius*sin(\Angle/2)};

  % Center of circumference, line itself, X axis and Y axis
  \coordinate (o) at (0,0);
  \coordinate (p) at (\LineEndX,\LineEndY);
  \coordinate (x) at ($1.1*(\Radius,0)$);
  \coordinate (y) at ($1.1*(0,\Radius)$);

  % Draw the arc itself
  \filldraw[violet, fill opacity=0.3] (o) -- (\ArcRadius,0) arc (0:\Angle:\ArcRadius) -- cycle;
  \node at (\ArcLabelX, \ArcLabelY) [yshift=-0.05cm, xshift=-0.2cm] {$\theta$};

  % Draw the dotted circumference
  \draw[dotted] (o) circle (\Radius);

  % Draw the two axis
  \draw[->, gray] (o) -- (x) node[right]{\textsl{x}};
  \draw[->, gray] (o) -- (y) node[above]{\textsl{y}};
  \draw[-, gray] (o) -- ($-1*(x)$);
  \draw[-, gray] (o) -- ($-1*(y)$);

  % Draw the sine and cosine lines
  \draw[thick, red]  (o) -- ($(\LineEndX, 0)$) node[below, pos=0.5]{$\cos(\theta)$};
  \draw[thick, blue] (p) -- ($(\LineEndX, 0)$) node[right, pos=0.5]{$\sin(\theta)$};

  % Draw the line from the origin to the point, and the point itself
  \draw[thick] (o) -- (p) node[yshift=0.3cm, xshift=-0.3cm, pos=0.6]{$r=1$};
  \filldraw (p) circle (1pt);

  % And finally, the dot at the center
  \filldraw[gray] (o) circle (1pt);
\end{tikzpicturecenter}

Since the radius of the circle (i.e. the hypotenuse of the formed right
triangle) is one, the previous formula remains consistent:

\begin{displaymath}
  \sin \left( \theta \right)
  = \frac{\text{opposite}}{\text{hypotenuse}}
  = \frac{\text{opposite}}{1}
  = \text{opposite}
\end{displaymath}

% ------------------------------------------------------------------------------
\subsection{Dot product}
% ------------------------------------------------------------------------------

The dot product or scalar product takes two vectors and returns a scalar that
represents the projection of one vector onto the other. In simpler terms, it's a
way of quantifying how aligned is vector $a$ with vector $b$.

The basic formula is the following:

\begin{displaymath}
  a \cdot b = a_x b_x + a_y b_y
\end{displaymath}

The dot product has a direct relationship with the angle formed by the two
vectors. The dot product of two \textbf{unit vectors} is the cosine of the
angle.

\begin{displaymath}
  \hat{a} \cdot \hat{b} = \cos \theta
\end{displaymath}

Therefore, if both vectors are \textbf{normalized} (i.e. they are unit vectors),
the returned value will always be in the $[-1,1]$ range.

To calculate the dot product of non-normalized vectors, this formula is used:

\begin{displaymath}
  a \cdot b = \|a\| \|b\| \cos \theta
\end{displaymath}

The dot product can be expressed as the shadow that $a$ projects over $b$.

\begin{tikzpicturecenter}
  \pgfmathsetmacro{\Radius}{2}
  \pgfmathsetmacro{\ArcRadius}{1}

  \pgfmathsetmacro{\ArcAngleBeta}{40}

  \pgfmathsetmacro{\BetaX}{\ArcRadius*cos(\ArcAngleBeta)}
  \pgfmathsetmacro{\BetaY}{\ArcRadius*sin(\ArcAngleBeta)}

  \pgfmathsetmacro{\LabelX}{\ArcRadius*cos(\ArcAngleBeta/2)}
  \pgfmathsetmacro{\LabelY}{\ArcRadius*sin(\ArcAngleBeta/2)}

  \coordinate (o) at (0,0);
  \coordinate (ub) at (\BetaX, \BetaY);
  \coordinate (a1) at (\Radius,0);
  \coordinate (b1) at ($\Radius*(ub)$);
  \coordinate (a2) at ($1.7*(a1)$);
  \coordinate (b2) at ($1.7*(b1)$);
  \coordinate (b1shadow) at ($(\Radius*\BetaX, 0)$);
  \coordinate (b2shadow) at ($(1.7*\Radius*\BetaX, 0)$);

  % The purple arc
  \filldraw[violet, fill opacity=0.2] (o) -- (\ArcRadius,0) arc (0:\ArcAngleBeta:\ArcRadius) -- cycle;
  \node at (\LabelX, \LabelY) [left] {$\theta$};

  % Dotted circumference
  \draw[dotted] (o) circle (\Radius);

  % Sine dashed lines ("shadows")
  \draw[dashed, gray] (b1) -- (b1shadow);
  \draw[dashed, gray] (b2) -- (b2shadow);

  % Gray A and B lines
  \draw[->, thick, gray] (o) -- (a2) node[right]{$\vec{a}$};
  \draw[->, thick, gray] (o) -- (b2) node[yshift=0.2cm, xshift=0.2cm]{$\vec{b}$};

  % Black UA and UB lines and dots
  \draw[] (o) -- (a1);
  \filldraw (a1) circle (1pt) node[above right]{$\hat{a}$};
  \draw[] (o) -- (b1) node[yshift=0.3cm, xshift=-0.3cm, pos=0.5]{$r = 1$};
  \filldraw (b1) circle (1pt) node[yshift=0.4cm]{$\hat{b}$};

  % Brace to indicate the cosine of the normalized vectors
  \draw[decorate, decoration={brace,amplitude=5pt,mirror}] (o) -- (b1shadow)
  node [midway, yshift=-0.35cm] {$\hat{a} \cdot \hat{b} = \cos(\theta)$};

  % Brace to indicate the cosine of the non-normalized vectors
  \draw[decorate, decoration={brace,amplitude=5pt,mirror,raise=0.7cm}] (o) -- (b2shadow)
  node [midway, yshift=-1.05cm] {$\vec{a} \cdot \vec{b}$};

  % Center of the circumference
  \filldraw (o) circle (1pt);
\end{tikzpicturecenter}

For a more detailed and interactive explanation of the dot product, see Math
Insight \cite{dot_product}.

With this in mind, the dot product can be used to calculate the angle itself.

\begin{align*}
  \cos \theta &= \frac{a \cdot b}{\|a\| \|b\|} \\
  \theta &= \cos^{-1} \left( \frac{a \cdot b}{\|a\| \|b\|} \right)
\end{align*}

A lot of information can be obtained from the dot product. If the dot product is
positive, $a$ has a component in the same direction as $b$. If the dot product
is zero, $a$ and $b$ are perpendicular. If it's negative, $a$ has a component in
the opposite direction of $b$.

\begin{tikzpicturecenter}
  \draw[thin, gray, dotted] (0,0) grid (13,4);

  \draw[<->] (2,3) -- (1,1) -- (3,1.5);
  \node at (2,3) [above] {$a$};
  \node at (3,1.5) [above] {$b$};
  \node at (2,0.5) [draw, rectangle] {$a \cdot b > 0$};

  \draw[<->] (4.5,2.5) -- (6,1) -- (7.5,2.5);
  \node at (4.5,2.5) [above] {$a$};
  \node at (7.5,2.5) [above] {$b$};
  \node at (6,0.5) [draw, rectangle] {$a \cdot b = 0$};

  \draw[<->] (12,1) -- (10,1) -- (9,3);
  \node at (9,3) [above] {$a$};
  \node at (12,1) [above] {$b$};
  \node at (10,0.5) [draw, rectangle] {$a \cdot b < 0$};
\end{tikzpicturecenter}

% ------------------------------------------------------------------------------
% TODO: Fibonacci and Lucas numbers
% ------------------------------------------------------------------------------

% ------------------------------------------------------------------------------
\subsection{Golden ratio}
% ------------------------------------------------------------------------------

The golden ratio is an irrational number with a value of:

\begin{displaymath}
 \varphi = \frac{1+\sqrt{5}}{2} = 1.618033988749\dots
\end{displaymath}

Two numbers $a$ and $b$ are in the golden ratio (noted $\varphi$) if their ratio
($\frac{a}{b}$) is the same as the ratio of their sum to the larger
number. Assuming $a > b > 0$:

\begin{displaymath}
  \frac{a}{b} = \frac{a+b}{a} = \varphi
\end{displaymath}

A \textbf{golden rectangle} is a rectangle whose adjacent sides are in the
golden ratio, and it can be used to illustrate the previous formula.

\begin{tikzpicturecenter}
  % Approximation of the golden ratio
  \pgfmathsetmacro{\Phi}{1.618033988};

  % Length of each side of square A
  \pgfmathsetmacro{\SideA}{2};

  % Length of the final rectangle (A and B)
  \pgfmathsetmacro{\SideSum}{\SideA*\Phi};

  % Length of the smaller side of rectangle B
  \pgfmathsetmacro{\SideB}{\SideSum-\SideA};

  % Draw the blue and red rectangles
  \fill[blue, fill opacity=0.2] (0,0) rectangle ++(\SideA,\SideA);
  \fill[red, fill opacity=0.2] (\SideA,0) rectangle ++(\SideB, \SideA);

  % Rectangle lines
  \draw (\SideA,\SideA) -- (\SideA,0);
  \draw[my-green, thick] (0,0) -- (0,\SideA) --
  (\SideSum,\SideA) -- (\SideSum,0) -- cycle;

  % Labels
  \node at ($(0, \SideA*0.5)$) [left, blue] {$a$};
  \node at ($(\SideA*0.5, \SideA)$) [above, blue] {$a$};
  \node at ($(\SideA+\SideB*0.5, \SideA)$) [above, red] {$b$};

  % Brace
  \draw[my-green, decorate, decoration={brace,amplitude=5pt,mirror,raise=0.1cm}]
  (0,0) -- (\SideSum,0) node [midway, yshift=-0.45cm] {$a+b$};
\end{tikzpicturecenter}

The red rectangle with short side $b$ and long side $a$ is itself a golden
rectangle. When placed adjacent to the blue square (with sides of length $a$),
the green rectangle is produced, with long side $a+b$ and short side $a$. This
green rectangle is similar to the red rectangle, and therefore also a golden
rectangle.

This process of adding an adjacent square to the rectangle, and producing a
similar rectangle reminds of the Fibonacci or Lucas sequences. If a Fibonacci
and Lucas number is divided by its immediate predecessor in the sequence, the
quotient approximates to $\varphi$.

\begin{align*}
  \frac{F_{16}}{F_{15}} &= \frac{987}{610} = 1.6180327\dots \\
  \frac{L_{16}}{L_{15}} &= \frac{2207}{1364} = 1.6180351\dots \\
\end{align*}

% ------------------------------------------------------------------------------
\newpage
\section{Physics}
% ------------------------------------------------------------------------------

% ------------------------------------------------------------------------------
\subsection{Gravitational force}
% ------------------------------------------------------------------------------
% TODO: Update with improvements in 8dcc/orbit

The gravitational force of each body is calculated with the following formula.

\begin{displaymath}
  F = G \frac{m_1m_2}{r^2}
\end{displaymath}

Where $G$ is the gravitational constant, $m_1$ and $m_2$ are the mass of
each body, and $r$ is the distance between the objects.

The effect of a force is to accelerate the body. The relationship is the
following.

\begin{displaymath}
  F = m a
\end{displaymath}

Where $F$ is the force, $m$ is the mass and $a$ is the acceleration of
the body. Therefore, the acceleration can be calculated from the force with the
following formula.

\begin{displaymath}
  a = \frac{F}{m}
\end{displaymath}

The force has a direction. It acts towards the direction of the line joining
the centres of the two bodies. We can get the X and Y coordinates of the
acceleration with some trigonometry.

\begin{align*}
  a_x &= a \cos \theta \\
  a_y &= a \sin \theta \\
\end{align*}

Where $a_x$ and $a_y$ are the X and Y accelerations, $a$ is the
acceleration, and $\theta$ is the angle that the line joining the centers make
with the horizontal.

% ------------------------------------------------------------------------------
% Bibliography
% ------------------------------------------------------------------------------

\newpage
\begin{thebibliography}{9}
\bibitem{vector_introduction}
  Frank D and Nykamp DQ. \textit{An introduction to vectors}. From Math
  Insight. Retrieved 23 May 2024, from
  \url{http://mathinsight.org/vector_introduction}
\bibitem{magnitude_vector}
  Nykamp DQ. \textit{Magnitude of a vector definition}. From Math
  Insight. Retrieved 17 Jun 2024, from
  \url{https://mathinsight.org/definition/magnitude_vector}
\bibitem{unit_vector}
  Wikipedia. \textit{Unit vector}. Retrieved 23 May 2024, from
  \url{https://en.wikipedia.org/wiki/Unit_vector}
\bibitem{dot_product}
  Nykamp DQ. \textit{The dot product}. From Math Insight. Retrieved 23 May 2024,
  from \url{https://mathinsight.org/dot_product}
\end{thebibliography}

\end{document}
